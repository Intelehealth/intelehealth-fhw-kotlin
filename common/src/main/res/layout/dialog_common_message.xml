<?xml version="1.0" encoding="utf-8"?>
<layout>

    <data>

        <import type="android.view.View" />

        <variable
            name="params"
            type="org.intelehealth.common.model.DialogParams" />
    </data>

    <androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="@dimen/std_8dp"
        app:cardCornerRadius="@dimen/std_16dp"
        app:cardElevation="@dimen/std_8dp">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:padding="@dimen/std_16dp">

            <ImageView
                android:id="@+id/ivDialogIcon"
                android:layout_width="@dimen/dialog_icon_size"
                android:layout_height="@dimen/dialog_icon_size"
                android:contentDescription="@string/content_dialog_alert_icon"
                android:icon="@{params.icon}"
                android:src="@drawable/ic_dialog_alert"
                android:visibility="@{params.icon != 0 ? View.VISIBLE : View.GONE}"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent" />

            <TextView
                android:id="@+id/tvDialogTitle"
                style="@style/Theme.IDA.Dialog.Title"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/std_16dp"
                android:gravity="center_horizontal|center_vertical"
                android:lineSpacingExtra="@dimen/std_line_space"
                android:text="@string/dialog_title_patient_registered"
                android:value="@{params.title}"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@id/ivDialogIcon" />

            <TextView
                android:id="@+id/tvDialogMessage"
                style="@style/Theme.IDA.Dialog.SubTitle"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/std_8dp"
                android:gravity="center"
                android:lineSpacingExtra="3sp"
                android:text="@string/content_does_patient_start_visit_now"
                android:value="@{params.message}"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@id/tvDialogTitle" />

            <com.google.android.material.button.MaterialButton
                android:id="@+id/btnDialogYes"
                style="@style/Theme.IDA.Dialog.Button.Positive"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="@dimen/std_16dp"
                android:layout_marginTop="@dimen/std_16dp"
                android:action="@{params.positiveLbl}"
                android:text="@string/action_yes"
                app:layout_constraintEnd_toStartOf="@id/btnDialogNo"
                app:layout_constraintHorizontal_chainStyle="packed"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@id/tvDialogMessage" />

            <!--            android:onClick="@{(view) -> params.onPositiveClick.invoke()}"-->

            <com.google.android.material.button.MaterialButton
                android:id="@+id/btnDialogNo"
                style="@style/Theme.IDA.Dialog.Button.Negative"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:visibility="@{params.negativeLbl != 0 ? View.VISIBLE : View.GONE}"
                android:action="@{params.negativeLbl}"
                android:text="@string/action_no"
                app:layout_constraintBottom_toBottomOf="@id/btnDialogYes"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toEndOf="@id/btnDialogYes"
                app:layout_constraintTop_toTopOf="@id/btnDialogYes" />
        </androidx.constraintlayout.widget.ConstraintLayout>
    </androidx.cardview.widget.CardView>
</layout>